{"remainingRequest":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/babel-loader/lib/index.js!/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/src/components/WorldMap/WorldMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/src/components/WorldMap/WorldMap.vue","mtime":1591191507000},{"path":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mahmoudtaabodi/Documents/workspace-shark/dynamic-label-demo/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21haG1vdWR0YWFib2RpL0RvY3VtZW50cy93b3Jrc3BhY2Utc2hhcmsvZHluYW1pYy1sYWJlbC1kZW1vL3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9tYWhtb3VkdGFhYm9kaS9Eb2N1bWVudHMvd29ya3NwYWNlLXNoYXJrL2R5bmFtaWMtbGFiZWwtZGVtby91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LnZhbHVlcyI7Ci8vCi8vCi8vCmltcG9ydCAnZDMnOwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmltcG9ydCAndG9wb2pzb24nOwppbXBvcnQgRGF0YU1hcCBmcm9tICdkYXRhbWFwcyc7CmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnc3JjL3V0aWwvdGhyb3R0bGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbG9yMTogJyNBQUFBQUEnLAogICAgICBjb2xvcjI6ICcjNDQ0NDQ0JywKICAgICAgaGlnaGxpZ2h0RmlsbENvbG9yOiAnIzY2NjE1QicsCiAgICAgIGJvcmRlckNvbG9yOiAnIzNjM2MzYycsCiAgICAgIGhpZ2hsaWdodEJvcmRlckNvbG9yOiAnIzNjM2MzYycsCiAgICAgIG1hcERhdGE6IHsKICAgICAgICBBVVM6IDc2MCwKICAgICAgICBCUkE6IDU1MCwKICAgICAgICBDQU46IDEyMCwKICAgICAgICBERVU6IDEzMDAsCiAgICAgICAgRlJBOiA1NDAsCiAgICAgICAgR0JSOiA2OTAsCiAgICAgICAgR0VPOiAyMDAsCiAgICAgICAgSU5EOiAyMDAsCiAgICAgICAgUk9VOiA2MDAsCiAgICAgICAgUlVTOiAzMDAsCiAgICAgICAgVVNBOiAyOTIwCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZUNvbG9yczogZnVuY3Rpb24gZ2VuZXJhdGVDb2xvcnMobGVuZ3RoKSB7CiAgICAgIHJldHVybiBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgbGVuZ3RoXSkucmFuZ2UoW3RoaXMuY29sb3IxLCB0aGlzLmNvbG9yMl0pOwogICAgfSwKICAgIGdlbmVyYXRlTWFwQ29sb3JzOiBmdW5jdGlvbiBnZW5lcmF0ZU1hcENvbG9ycygpIHsKICAgICAgdmFyIG1hcERhdGFWYWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMubWFwRGF0YSk7CiAgICAgIHZhciBtYXhWYWwgPSBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkobWFwRGF0YVZhbHVlcykpOwogICAgICB2YXIgY29sb3JzID0gdGhpcy5nZW5lcmF0ZUNvbG9ycyhtYXhWYWwpOwogICAgICB2YXIgbWFwRGF0YSA9IHt9OwogICAgICB2YXIgZmlsbHMgPSB7CiAgICAgICAgZGVmYXVsdEZpbGw6ICcjZTRlNGU0JwogICAgICB9OwoKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubWFwRGF0YSkgewogICAgICAgIHZhciB2YWwgPSB0aGlzLm1hcERhdGFba2V5XTsKICAgICAgICBmaWxsc1trZXldID0gY29sb3JzKHZhbCk7CiAgICAgICAgbWFwRGF0YVtrZXldID0gewogICAgICAgICAgZmlsbEtleToga2V5LAogICAgICAgICAgdmFsdWU6IHZhbAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgbWFwRGF0YTogbWFwRGF0YSwKICAgICAgICBmaWxsczogZmlsbHMKICAgICAgfTsKICAgIH0sCiAgICBpbml0VmVjdG9yTWFwOiBmdW5jdGlvbiBpbml0VmVjdG9yTWFwKCkgewogICAgICB2YXIgX3RoaXMkZ2VuZXJhdGVNYXBDb2xvID0gdGhpcy5nZW5lcmF0ZU1hcENvbG9ycygpLAogICAgICAgICAgZmlsbHMgPSBfdGhpcyRnZW5lcmF0ZU1hcENvbG8uZmlsbHMsCiAgICAgICAgICBtYXBEYXRhID0gX3RoaXMkZ2VuZXJhdGVNYXBDb2xvLm1hcERhdGE7CgogICAgICB2YXIgd29ybGRNYXAgPSBuZXcgRGF0YU1hcCh7CiAgICAgICAgc2NvcGU6ICd3b3JsZCcsCiAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmxkTWFwJyksCiAgICAgICAgZmlsbHM6IGZpbGxzLAogICAgICAgIGRhdGE6IG1hcERhdGEsCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICBnZW9ncmFwaHlDb25maWc6IHsKICAgICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLAogICAgICAgICAgYm9yZGVyV2lkdGg6IDAuNSwKICAgICAgICAgIGJvcmRlck9wYWNpdHk6IDAuOCwKICAgICAgICAgIGhpZ2hsaWdodEZpbGxDb2xvcjogdGhpcy5oaWdobGlnaHRGaWxsQ29sb3IsCiAgICAgICAgICBoaWdobGlnaHRCb3JkZXJDb2xvcjogdGhpcy5oaWdobGlnaHRCb3JkZXJDb2xvciwKICAgICAgICAgIGhpZ2hsaWdodEJvcmRlcldpZHRoOiAwLjUsCiAgICAgICAgICBoaWdobGlnaHRCb3JkZXJPcGFjaXR5OiAwLjgKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgcmVzaXplRnVuYyA9IHdvcmxkTWFwLnJlc2l6ZS5iaW5kKHdvcmxkTWFwKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aHJvdHRsZShyZXNpemVGdW5jLCA0MCk7CiAgICAgIH0sIGZhbHNlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRoaXMuaW5pdFZlY3Rvck1hcCgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCkKfTs="},{"version":3,"sources":["WorldMap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"worldMap\" style=\"height: 300px;\"></div>\n</template>\n<script>\nimport 'd3';\nimport * as d3 from 'd3';\nimport 'topojson';\nimport DataMap from 'datamaps';\nimport { throttle } from 'src/util/throttle';\n\nexport default {\n  data() {\n    return {\n      color1: '#AAAAAA',\n      color2: '#444444',\n      highlightFillColor: '#66615B',\n      borderColor: '#3c3c3c',\n      highlightBorderColor: '#3c3c3c',\n      mapData: {\n        AUS: 760,\n        BRA: 550,\n        CAN: 120,\n        DEU: 1300,\n        FRA: 540,\n        GBR: 690,\n        GEO: 200,\n        IND: 200,\n        ROU: 600,\n        RUS: 300,\n        USA: 2920\n      }\n    };\n  },\n  methods: {\n    generateColors(length) {\n      return d3\n        .scaleLinear()\n        .domain([0, length])\n        .range([this.color1, this.color2]);\n    },\n    generateMapColors() {\n      let mapDataValues = Object.values(this.mapData);\n      let maxVal = Math.max(...mapDataValues);\n      let colors = this.generateColors(maxVal);\n      let mapData = {};\n      let fills = {\n        defaultFill: '#e4e4e4'\n      };\n      for (let key in this.mapData) {\n        let val = this.mapData[key];\n        fills[key] = colors(val);\n        mapData[key] = {\n          fillKey: key,\n          value: val\n        };\n      }\n      return {\n        mapData,\n        fills\n      };\n    },\n    initVectorMap() {\n      let { fills, mapData } = this.generateMapColors();\n      let worldMap = new DataMap({\n        scope: 'world',\n        element: document.getElementById('worldMap'),\n        fills,\n        data: mapData,\n        responsive: true,\n        geographyConfig: {\n          borderColor: this.borderColor,\n          borderWidth: 0.5,\n          borderOpacity: 0.8,\n          highlightFillColor: this.highlightFillColor,\n          highlightBorderColor: this.highlightBorderColor,\n          highlightBorderWidth: 0.5,\n          highlightBorderOpacity: 0.8\n        }\n      });\n      let resizeFunc = worldMap.resize.bind(worldMap);\n      window.addEventListener(\n        'resize',\n        () => {\n          throttle(resizeFunc, 40);\n        },\n        false\n      );\n    }\n  },\n  async mounted() {\n    this.initVectorMap();\n  }\n};\n</script>\n<style></style>\n"],"sourceRoot":"src/components/WorldMap"}]}